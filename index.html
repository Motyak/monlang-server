

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>

<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.19/lib/codemirror.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/codemirror@5.65.19/lib/codemirror.min.css" rel="stylesheet">

<!--
min-w-0 => to prevent flex-1 w-full from expanding beyond its parent (viewport)
min-h-0 => to prevent flex-1 h-full from expanding beyond its parent (viewport)
-->

<div id="globalpanel" class="flex flew-row w-screen h-screen">
    <div id="sidepanel" class="flex-none w-1/5 h-full border border-dashed border-red-500">sidepanel</div>
    <div id="mainpanel" class="flex flex-col flex-1 w-full h-full min-w-0">
        <div id="editorpanel" class="flex-1 w-full h-full min-h-0"></div>
        <div id="consolepanel" class="flex-none w-full h-1/3 border border-dashed border-red-500">terminal</div>
    </div>
</div>

<style>
    .CodeMirror {
        width: 100%;
        height: 100%;
    }
</style>

<script>
    let editor = CodeMirror($("#editorpanel").get(0), {
        lineNumbers: true,
        indentUnit: 4,
    })

    $(document).keydown((event) => {
        if (event.ctrlKey && event.key === "s") {
            event.preventDefault()
            alert("saving...")
        }
        if (event.ctrlKey && event.key === "j") {
            event.preventDefault()
            if ($("#consolepanel").is(":hidden")) {
                $("#consolepanel").show()
            }
            else {
                $("#consolepanel").hide()
            }
        }
    })
</script>
